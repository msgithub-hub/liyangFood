(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/entry/entry"],{"3e0e":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("3f8f")),o=r("c24f"),a=i(r("2b94"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return s(e)||d(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0)if(r.push(i.value),t&&r.length===t)break}catch(c){o=!0,a=c}finally{try{n||null==u["return"]||u["return"]()}finally{if(o)throw a}}return r}}function s(e){if(Array.isArray(e))return e}function f(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(d){return void r(d)}u.done?t(c):Promise.resolve(c).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){f(a,n,o,i,u,"next",e)}function u(e){f(a,n,o,i,u,"throw",e)}i(void 0)}))}}var g={data:function(){return{groupNum:0,redirect:"",user:{name:"",miYao:""}}},methods:{login:function(){var t=l(n.default.mark((function t(){var r,i,c,d,s,f,l,g,p,h,v,b;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.login();case 2:return r=t.sent,i=u(r,2),c=i[0],d=i[1],c&&e.showToast({title:"小程序登录接口认证失败!"}),t.next=9,(0,o.login)(d.code);case 9:if(s=t.sent,f=s.data,f.code!==a.default.SUCCESS.code){t.next=35;break}if(l=f.data||{},this.$axios.addHeader("token",l.token),console.log(l.token),this.redirect&&e.redirectTo({url:this.redirect+"?groupNum="+this.groupNum}),g=e.getStorageSync("userInfo"),!g){t.next=34;break}return t.next=20,(0,o.authLogin)();case 20:if(p=t.sent,h=p.data,h.code!==a.default.USER_NOT_AUTH.code){t.next=26;break}this.redirect||e.redirectTo({url:"/pages/login/login"}),t.next=32;break;case 26:if(h.code!==a.default.SUCCESS.code){t.next=32;break}return t.next=29,(0,o.getUid)();case 29:v=t.sent,b=v.data,b.code===a.default.SUCCESS.code&&(e.setStorageSync("uid",b.data.uid),e.setStorageSync("groupInfo",JSON.stringify(b.data.arr)),this.redirect||e.redirectTo({url:"/pages/index/index"}));case 32:t.next=35;break;case 34:this.redirect||e.redirectTo({url:"/pages/register/register"});case 35:case"end":return t.stop()}}),t,this)})));function r(){return t.apply(this,arguments)}return r}(),getUid:function(){var e=l(n.default.mark((function e(){return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},onLoad:function(e){console.log(e,"entry"),this.redirect=e.redirect||"",this.groupNum=e.groupNum||"",this.login()}};t.default=g}).call(this,r("6172")["default"])},"62f5":function(e,t,r){"use strict";r.r(t);var n=r("8999"),o=r("c5d2");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("4e82"),u=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"046e8292",null);t["default"]=u.exports},8999:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},o=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}))},c5d2:function(e,t,r){"use strict";r.r(t);var n=r("3e0e"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},e4ab:function(e,t,r){"use strict";(function(e){r("6cdc"),r("d722");n(r("d071"));var t=n(r("62f5"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("6172")["createPage"])}},[["e4ab","common/runtime","common/vendor"]]]);
{"version":3,"sources":["webpack:///./src/main.js","webpack:///./src/pages/entry/entry.vue?519f","webpack:///./src/pages/entry/entry.vue?64a6","webpack:///./src/pages/entry/entry.vue?b6a3","webpack:///./src/pages/entry/entry.vue?1180","webpack:///./src/pages/entry/entry.vue"],"names":["createPage","Page","data","groupNum","redirect","user","name","miYao","methods","login","uni","err","loginData","showToast","title","code","resultCode","SUCCESS","resultData","$axios","addHeader","token","console","log","redirectTo","url","value","getStorageSync","USER_NOT_AUTH","uidData","setStorageSync","uid","JSON","stringify","arr","getUid","onLoad","option"],"mappings":"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","file":"pages/entry/entry.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/entry/entry.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./entry.vue?vue&type=template&id=ae2ca17e&scoped=true&\"\nimport script from \"./entry.vue?vue&type=script&lang=js&\"\nexport * from \"./entry.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ae2ca17e\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\it开发\\\\uni-app\\\\liyangFood\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('ae2ca17e')) {\n      api.createRecord('ae2ca17e', component.options)\n    } else {\n      api.reload('ae2ca17e', component.options)\n    }\n    module.hot.accept(\"./entry.vue?vue&type=template&id=ae2ca17e&scoped=true&\", function () {\n      api.rerender('ae2ca17e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/entry/entry.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/_@dcloudio_vue-cli-plugin-hbuilderx@2.0.0-23720191024001@@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../node_modules/_@dcloudio_vue-cli-plugin-uni@2.0.0-23720191024001@@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@2.0.0-23720191024001@@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!../../../node_modules/_@dcloudio_vue-cli-plugin-uni@2.0.0-23720191024001@@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@2.0.0-23720191024001@@dcloudio/webpack-uni-mp-loader/lib/style.js!./entry.vue?vue&type=template&id=ae2ca17e&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_@dcloudio_vue-cli-plugin-uni@2.0.0-23720191024001@@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@2.0.0-23720191024001@@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!../../../node_modules/_@dcloudio_vue-cli-plugin-uni@2.0.0-23720191024001@@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@2.0.0-23720191024001@@dcloudio/webpack-uni-mp-loader/lib/style.js!./entry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_@dcloudio_vue-cli-plugin-uni@2.0.0-23720191024001@@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@2.0.0-23720191024001@@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!../../../node_modules/_@dcloudio_vue-cli-plugin-uni@2.0.0-23720191024001@@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@2.0.0-23720191024001@@dcloudio/webpack-uni-mp-loader/lib/style.js!./entry.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n\nimport {login, authLogin, auth, getUid} from \"../../api/user\";\nimport resultCode from '../../axios/resultCode'\nexport default {\n    data() {\n        return {\n            groupNum: 0,\n            redirect: '',\n            user: {\n                name: '',\n                miYao: '',\n            }\n        }\n    },\n    methods: {\n        async login() {\n            let [err, loginData] = await uni.login();\n            if (err) {\n                uni.showToast({title: '小程序登录接口认证失败!'})\n            }\n            let {data} = await login(loginData.code);\n            if (data.code === resultCode.SUCCESS.code) {\n                let resultData = data.data || {};\n                this.$axios.addHeader('token', resultData.token);\n                console.log(resultData.token);\n                if (this.redirect) {\n                    uni.redirectTo({\n                        url: this.redirect + '?groupNum=' + this.groupNum,\n                    })\n                }\n                const value = uni.getStorageSync('userInfo');\n                if (value) {\n                    let { data } = await authLogin();\n                    if (data.code === resultCode.USER_NOT_AUTH.code) {\n                        if (!this.redirect) {\n                            uni.redirectTo({\n                                url: '/pages/login/login'\n                            })\n                        }\n                    } else if (data.code === resultCode.SUCCESS.code) {\n                        let { data: uidData } = await getUid();\n                        if (uidData.code === resultCode.SUCCESS.code) {\n                            uni.setStorageSync('uid', uidData.data.uid);\n                            uni.setStorageSync('groupInfo', JSON.stringify(uidData.data.arr));\n                            if (!this.redirect) {\n                                uni.redirectTo({\n                                    url: '/pages/index/index'\n                                })\n                            }\n                        }\n                    }\n                } else {\n                    if (!this.redirect) {\n                        uni.redirectTo({\n                            url: '/pages/register/register'\n                        })\n                    }\n                }\n            }\n        },\n        async getUid() {\n\n        }\n    },\n    onLoad(option) {\n        console.log(option, 'entry')\n        this.redirect = option.redirect || '';\n        this.groupNum = option.groupNum || '';\n        this.login();\n    }\n}\n"],"sourceRoot":""}